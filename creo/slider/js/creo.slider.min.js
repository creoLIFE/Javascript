/**
 * creo.slider
 * @version 1.0
 * @copyright creoLIFE.pl 2006-2013
 * @author Mirek Ratman
 * @namespace creo
 * @since 2013-02-11
 * @requires [jQuery]
 */
if(typeof creo==='undefined'){var creo={}}if(typeof jQuery!='undefined'&&typeof creo!='undefined'){creo.slider=creo.prototype={conf:{thisId:'.creoSlider',repeat:true,autoScrollInterval:10,fitWidth:true,pAutoScroll:false,autoScrollStartEl:1,classes:{active:'active',inActive:'inactive'},ids:{slides:'.creoSliderSlides',menu:'.creoSliderMenu',menuEl:'a'}},create:function(el,options){var conf=creo.slider.conf;if(typeof el!=='undefined'){if($(el).length>0){conf.thisId=$(el)}else{return false}}else{if($(conf.thisId).length<=0){return false}}var slideToPosition=0,slideMaxHeight=0,slidePositions=[],initSlidesWidth=$(el).width();if(creo.slider.getHashParams('interval',true)){conf.autoScrollInterval=creo.slider.getHashParams('interval')}if(conf.autoScrollInterval>0){creo.slider.startAutoScroll()}$(conf.thisId).children(conf.ids.slides).on('mouseover',function(){creo.slider.stopAutoScroll()}).on('mouseout',function(){if(conf.autoScrollInterval>0){creo.slider.startAutoScroll()}}).end().children(conf.ids.slides).children().each(function(i){$(this).width(Math.floor(initSlidesWidth));slideMaxHeight=$(this).children().height()>slideMaxHeight?$(this).children().height():slideMaxHeight;slidePositions[i]=slideToPosition;slideToPosition+=(conf.fitWidth?$(conf.ids.slides).width():initSlidesWidth)}).end().width(Math.floor(slideToPosition)).height(Math.floor(slideMaxHeight)).end().children(conf.ids.menu).find(conf.ids.menuEl).height(function(){return $(this).parent().height()}).end().find(conf.ids.menuEl+':first').parent().addClass(conf.classes.active).end().end().find(conf.ids.menuEl).on('click',function(e,doScroll){$(this).parent().siblings().removeClass(conf.classes.active).addClass(conf.classes.inActive).end().removeClass(conf.classes.inActive).addClass(conf.classes.active);var pos=$(this).parent().prevAll().length;$(conf.ids.slides).stop().animate({marginLeft:-slidePositions[pos]},600,'linear');if(!doScroll){creo.slider.stopAutoScroll()}e.preventDefault()})},startAutoScroll:function(){var conf=creo.slider.conf,fScroll=function(){if(conf.autoScrollStartEl==-1){return false}var btn=$(conf.ids.menu).find(conf.ids.menuEl);btn.eq(conf.autoScrollStartEl%btn.length).trigger('click',[true]);conf.autoScrollStartEl++};conf.pAutoScroll=setInterval(function(){fScroll(conf.thisId)},conf.autoScrollInterval*1000)},stopAutoScroll:function(){var conf=creo.slider.conf;clearInterval(conf.pAutoScroll)},getHashParams:function(name,test){var hashParams={},e,a=/\+/g,r=/([^&;=]+)=?([^&;]*)/g,d=function(s){return decodeURIComponent(s.replace(a," "))},q=window.location.hash.substring(1);while(e=r.exec(q)){hashParams[d(e[1])]=d(e[2])}if(typeof test!=='undefined'&&test===true){if(typeof name!=='undefined'){if(typeof hashParams[name]!=='undefined'){return true}return false}return false}if(typeof name!=='undefined'){return hashParams[name]}return hashParams}};jQuery.fn.creoSlider=function(options){if($(this).length>0){$.extend(true,creo.slider.conf,options);creo.slider.create($(this),options)}}}